<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Logistic Regression</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Statistics Notebook</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="RCommands.html">R Commands</a>
    </li>
    <li>
      <a href="RMarkdownHints.html">R Markdown Hints</a>
    </li>
    <li>
      <a href="RCheatSheetsAndNotes.html">R Cheatsheets &amp; Notes</a>
    </li>
    <li>
      <a href="DataSources.html">Data Sources</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Describing Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="GraphicalSummaries.html">Graphical Summaries</a>
    </li>
    <li>
      <a href="NumericalSummaries.html">Numerical Summaries</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Making Inference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="MakingInference.html">Making Inference</a>
    </li>
    <li>
      <a href="tTests.html">t Tests</a>
    </li>
    <li>
      <a href="WilcoxonTests.html">Wilcoxon Tests</a>
    </li>
    <li>
      <a href="ANOVA.html">ANOVA</a>
    </li>
    <li>
      <a href="Kruskal.html">Kruskal-Wallis</a>
    </li>
    <li>
      <a href="LinearRegression.html">Linear Regression</a>
    </li>
    <li>
      <a href="LogisticRegression.html">Logistic Regression</a>
    </li>
    <li>
      <a href="ChiSquaredTests.html">Chi Squared Tests</a>
    </li>
    <li>
      <a href="PermutationTests.html">Randomization Testing</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analyses
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Analyses/AnalysisRubric.html">Analysis Rubric</a>
    </li>
    <li>
      <a href="./Analyses/StudentHousing.html">Good Example Analysis</a>
    </li>
    <li>
      <a href="./Analyses/StudentHousingPOOR.html">Poor Example Analysis</a>
    </li>
    <li>
      <a href="./Analyses/Rent.html">Rent Analysis</a>
    </li>
    <li>
      <a href="./Analyses/Stephanie.html">Stephanie Analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Logistic Regression</h1>

</div>


<script type="text/javascript">
 function showhide(id) {
    var e = document.getElementById(id);
    e.style.display = (e.style.display == 'block') ? 'none' : 'block';
 }
  
 function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
 }
</script>
<hr />
<p>Regression for a qualitative binary response variable <span class="math inline">\((Y_i = 0\)</span> or <span class="math inline">\(1)\)</span>. The explanatory variables can be either quantitative or qualitative.</p>
<hr />
<div id="simple-logistic-regression-model" class="section level2 tabset tabset-pills tabset-fade">
<h2>Simple Logistic Regression Model</h2>
<div style="float:left;width:125px;" align="center">
<p><img src="Images/BinomYQuantX.png" width=58px;></p>
</div>
<p>Regression for a qualitative binary response variable <span class="math inline">\((Y_i = 0\)</span> or <span class="math inline">\(1)\)</span> using a single (typically quantitative) explanatory variable.</p>
<div id="overview" class="section level3">
<h3>Overview</h3>
<div style="padding-left:125px;">
<p>The probability that <span class="math inline">\(Y_i = 1\)</span> given the observed value of <span class="math inline">\(x_i\)</span> is called <span class="math inline">\(\pi_i\)</span> and is modeled by the equation</p>
<div style="float:right;font-size:.8em;background-color:lightgray;padding:5px;border-radius:4px;">
<a style="color:darkgray;" href="javascript:showhide('simplelogisticlatexrcode')">Math Code</a>
</div>
<div id="simplelogisticlatexrcode" style="display:none;">
<pre><code>$$
  P(Y_i = 1|\, x_i) = \frac{e^{\beta_0 + \beta_1 x_i}}{1+e^{\beta_0 + \beta_1 x_i}} = \pi_i
$$</code></pre>
</div>
<center>
<span class="tooltipr"> <span class="math inline">\(P(\)</span> <span class="tooltiprtext">The “P” stands for “Probability that…”</span> </span><span class="tooltipr"> <span class="math inline">\(Y_i\)</span> <span class="tooltiprtext">The response variable. The “i” denotes that this is the y-value for individual “i”, where “i” is 1, 2, 3,… and so on up to <span class="math inline">\(n\)</span>, the sample size.</span> </span><span class="tooltipr"> <span class="math inline">\(= 1\)</span> <span class="tooltiprtext">Equals 1… This states that we are assuming that the probability that the response variable <span class="math inline">\(Y_i\)</span> is a 1 for the current individual.</span> </span><span class="tooltipr"> <span class="math inline">\(| x_i)\)</span> <span class="tooltiprtext">Given <span class="math inline">\(x_i\)</span>… in other words, the “|” says “given” and <span class="math inline">\(x_i\)</span> means the x-value of the current individual.</span> </span><span class="tooltipr"> <span class="math inline">\(=\)</span> <span class="tooltiprtext">Equals sign.</span> </span><span class="tooltipr"> <span class="math inline">\(\displaystyle\frac{e^{\beta_0 + \beta_1 x_i}}{1 + e^{\beta_0 + \beta_1 x_i}}\)</span> <span class="tooltiprtext">The logistic regression equation where <span class="math inline">\(e=2.71828...\)</span> is the “natural constant” number and <span class="math inline">\(\beta_0\)</span> is the y-intercept and <span class="math inline">\(\beta_1\)</span> is teh slope.</span> </span><span class="tooltipr"> <span class="math inline">\(= \pi_i\)</span> <span class="tooltiprtext">The <span class="math inline">\(\pi_i\)</span> stands for the probability of individual <span class="math inline">\(i\)</span> having a y-value equal to 1 given their <span class="math inline">\(x_i\)</span> value. It is the short hand notation for <span class="math inline">\(P(Y_i = 1 |x_i)\)</span>. (It is NOT the number 3.14…)</span> </span>
</center>
<p><br/></p>
<p>The coefficents <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> are difficult to interpret directly. Typicall <span class="math inline">\(e^{\beta_0}\)</span> and <span class="math inline">\(e^{\beta_1}\)</span> are interpreted instead. The value of <span class="math inline">\(e^{\beta_0}\)</span> or <span class="math inline">\(e^{\beta_1}\)</span> denotes the relative change in the odds that <span class="math inline">\(Y_i=1\)</span>. The odds that <span class="math inline">\(Y_i=1\)</span> are <span class="math inline">\(\frac{\pi_i}{1-\pi_i}\)</span>.</p>
<hr />
<p><strong>Examples:</strong> <a href="./Analyses/Logistic%20Regression/Examples/challengerLogisticReg.html">challenger</a> <a href="./Analyses/Logistic%20Regression/Examples/mouse.html">mouse</a></p>
<hr />
</div>
</div>
<div id="r-instructions" class="section level3">
<h3>R Instructions</h3>
<div style="padding-left:125px;">
<p><strong>Console</strong> Help Command: <code>?glm()</code></p>
<p>To perform a logistic regression in R use the commands</p>
<a href="javascript:showhide('logistic1')">
<div class="hoverchunk">
<p><span class="tooltipr"> YourGlmName <span class="tooltiprtext">This is some name you come up with that will become the R object that stores the results of your logistic regression <code>glm()</code> command.</span> </span><span class="tooltipr">  &lt;-  <span class="tooltiprtext">This is the “left arrow” assignment operator that stores the results of your <code>glm()</code> code into <code>YourGlmName</code>.</span> </span><span class="tooltipr"> glm( <span class="tooltiprtext">glm( is an R function that stands for “General Linear Model”. It works in a similar way that the <code>lm(</code> function works except that it requires a <code>family=</code> option to be specified at the end of the command.</span> </span><span class="tooltipr"> Y  <span class="tooltiprtext">Y is your binary response variable. It must consist of only 0’s and 1’s. Since TRUE’s = 1’s and FALSE’s = 0’s in R, Y could be a logical statement like (Price &gt; 100) or (Animal == “Cat”) if your Y-variable wasn’t currently coded as 0’s and 1’s.</span> </span><span class="tooltipr"> ~  <span class="tooltiprtext">The tilde symbol ~ is used to tell R that Y should be treated as a function of the explanatory variable X.</span> </span><span class="tooltipr"> X, <span class="tooltiprtext">X is the explanatory variable (typically quantitative) that will be used to explain the probability that the response variable Y is a 1.</span> </span><span class="tooltipr">  data = NameOfYourDataset,<br />
<span class="tooltiprtext">NameOfYourDataset is the name of the dataset that contains Y and X. In other words, one column of your dataset would be called Y and another column would be called X.</span> </span><span class="tooltipr">  family=binomial) <span class="tooltiprtext">The family=binomial command tells the <code>glm(</code> function to perform a logistic regression. It turns out that <code>glm</code> can perform many different types of regressions, but we only study it as a tool to perform a logistic regression in this course.</span> </span><br/><span class="tooltipr"> summary(YourGlmName) <span class="tooltiprtext">The <code>summary</code> command allows you to print the results of your logistic regression that were previously saved in <code>YourGlmName</code>.</span> </span></p>
</div>
<p></a></p>
<div id="logistic1" style="display:none;">
<p>Example output from a regression. Hover each piece to learn more.</p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Call:<br/> glm(formula = am ~ disp, family = binomial, data = mtcars) <span class="tooltiprouttext">This is simply a statement of your original glm(…) “call” that you made when performing your regression. It allows you to verify that you ran what you thought you ran in the glm(…).</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td colspan="2">
<span class="tooltiprout"> Deviance Residuals: <span class="tooltiprouttext">EXPLANATION. </span>
</td>
</tr>
<tr>
<td align="right">
<span class="tooltiprout"> Min<br/>   -1.5651 <span class="tooltiprouttext">“min” gives the value of the residual that is furthest below the regression line. Ideally, the magnitude of this value would be about equal to the magnitude of the largest positive residual (the max) because the hope is that the residuals are normally distributed around the line.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 1Q<br/>   -0.6648 <span class="tooltiprouttext">“1Q” gives the first quartile of the residuals, which will always be negative, and ideally would be about equal in magnitude to the third quartile.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> Median<br/>   -0.2460 <span class="tooltiprouttext">“Median” gives the median of the residuals, which would ideally would be about equal to zero. Note that because the regression line is the least squares line, the mean of the residuals will ALWAYS be zero, so it is never included in the output summary. This particular median value of -0.2460 is a little smaller than zero than we would hope for and suggests a right skew in the data because the mean (0) is greater than the median (-0.2460) witnessing the residuals are right skewed. This can also be seen in the maximum being much larger in magnitude than the minimum.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 3Q<br/>   0.7276 <span class="tooltiprouttext">“3Q” gives the third quartile of the residuals, which would ideally would be about equal in magnitude to the first quartile. In this case, it is pretty close, which helps us see that the first quartile of residuals on either side of the line is behaving fairly normally.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> Max</br>   2.2691 <span class="tooltiprouttext">“Max” gives the maximum positive residuals, which would ideally would be about equal in magnitude to the minimum residual. In this case, it is much larger than the minimum, which helps us see that the residuals are likely right skewed.</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td colspan="2">
<span class="tooltiprout"> Coefficients: <span class="tooltiprouttext">Notice that in your glm(…) you used only <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span>. You did type out any coefficients, i.e., the <span class="math inline">\(\beta_0\)</span> or <span class="math inline">\(\beta_1\)</span> of the regression model. These coefficients are estimated by the glm(…) function and displayed in this part of the output along with standard errors, t-values, and p-values.</span> </span>
</td>
</tr>
<tr>
<td align="left">
</td>
<td align="right">
<span class="tooltiprout">   Estimate <span class="tooltiprouttext">To learn more about the “Estimates” of the “Coefficients” see the “Explanation” tab, “Estimating the Model Parameters” section for details.</span>
</td>
<td align="right">
<span class="tooltiprout">   Std. Error <span class="tooltiprouttext">To learn more about the “Standard Errors” of the “Coefficients” see the “Explanation” tab, “Inference for the Model Parameters” section.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   z value <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   Pr(&gt;|z|) <span class="tooltiprouttext">EXPLANATION </span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> (Intercept) <span class="tooltiprouttext">This always says “Intercept” for any glm(…) you run in R. That is because R always assumes there is a y-intercept for your regression function.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   2.630849 <span class="tooltiprouttext">This is the estimate of the y-intercept, <span class="math inline">\(\beta_0\)</span>. It is called <span class="math inline">\(b_0\)</span>. It is the value of the log of the odds that <span class="math inline">\(Y_i=1\)</span> when <span class="math inline">\(x_i\)</span> is zero. Remember to use <span class="math inline">\(e^{b_0}\)</span> to interpret this values actual effect on the odds.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   1.050170 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_0\)</span>. It tells you how much <span class="math inline">\(b_0\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 2.505 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.01224 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_0 = 0\)</span>. It measures the probability of observing a t-value as extreme as the one observed. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code>.</span> </span>
</td>
<td align="left">
<span class="tooltiprout"> * <span class="tooltiprouttext">This is called a “star”. One star means significant at the 0.1 level of <span class="math inline">\(\alpha\)</span>.</span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> disp <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   -0.014604 <span class="tooltiprouttext">This is the estimate of the slope, <span class="math inline">\(\beta_1\)</span>. It is called <span class="math inline">\(b_1\)</span>. It is the change in the log of the odds that <span class="math inline">\(Y_i = 1\)</span> as X is increased by 1 unit. Remember to use <span class="math inline">\(e^{b_1}\)</span> to compute the actual effect on the odds.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.005168 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_1\)</span>. It tells you how much <span class="math inline">\(b_1\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> -2.826 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.00471 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_1 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
<td align="left">
<span class="tooltiprout"> ** <span class="tooltiprouttext">This is called a “star”. Three stars means significant at the 0.001 level of <span class="math inline">\(\alpha\)</span>.</span> </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span> --- </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘’ 1 <span class="tooltiprouttext">These “codes” explain what significance level the p-value is smaller than based on how many “stars” * the p-value is labeled with in the Coefficients table above.</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> (Dispersion parameter for binomial family taken to be 1) <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout">   Null Deviance: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  43.230 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  on 31 degrees of freedom <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Residual deviance: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  29.732 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  on 30 degrees of freedom <span class="tooltiprouttext">This is <span class="math inline">\(n-p\)</span> where <span class="math inline">\(n\)</span> is the sample size and <span class="math inline">\(p\)</span> is the number of parameters in the regression model. In this case, there is a sample size of 32 and two parameters, <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>, so 32-2 = 30.</span> </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> AIC: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  33.732 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Number of Fisher Scoring iterations: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  5 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
</div>
<p>To check the <strong>goodness of fit</strong> of a logistic regression model when there are <strong>many replicated <span class="math inline">\(x\)</span>-values</strong> use the command</p>
<a href="javascript:showhide('goodnessoffit1')">
<div class="hoverchunk">
<p><span class="tooltipr"> pchisq( <span class="tooltiprtext">The <code>pchisq</code> command allows you to compute p-values from the chi-squared distribution.</span> </span><span class="tooltipr"> residual deviance,  <span class="tooltiprtext">The residual deviance is shown at the bottom of the output of your <code>summary(YourGlmName)</code> and should be typed in here as a number like 25.3.</span> </span><span class="tooltipr"> df for residual deviance,  <span class="tooltiprtext">The df for the residual deviance is also shown at the bottom of the output of your <code>summary(YourGlmName)</code>.</span> </span><span class="tooltipr"> lower.tail=FALSE) <span class="tooltiprtext">This command ensures you find the probability of the chi-squared distribution being as extreme or more extreme than the observed value of residual deviance.</span> </span></p>
</div>
<p></a></p>
<div id="goodnessoffit1" style="display:none;">
<pre><code>## [1] 0.479439</code></pre>
</div>
<p>To check the <strong>goodness of fit</strong> of a logistic regression model where there are <strong>few or no any replicated <span class="math inline">\(x\)</span>-values</strong></p>
<a href="javascript:showhide('goodnessoffit2')">
<div class="hoverchunk">
<p><span class="tooltipr"> library(ResourceSelection) <span class="tooltiprtext">This loads the ResourceSelection R package so that you can access the hoslem.test() function. You may need to run the code: install.packages(“ResourceSelection”) first.</span> </span><br/><span class="tooltipr"> hoslem.test( <span class="tooltiprtext">This R function performs the Hosmer-Lemeshow Goodness of Fit Test. See the “Explanation” file to learn about this test.</span> </span><span class="tooltipr"> YourGlmName <span class="tooltiprtext"><code>YourGlmName</code> is the name of your glm(…) code that you created previously.</span> </span><span class="tooltipr"> $y,  <span class="tooltiprtext">ALWAYS type a “y” here. This gives you the actual binary (0,1) y-values of your logistic regression. The goodness of fit test will compare these actual values to your predicted probabilities for each value in order to see if the model is a “good fit.”</span> </span><span class="tooltipr"> YourGlmName <span class="tooltiprtext"><code>YourGlmName</code> is the name you used to save the results of your glm(…) code.</span> </span><span class="tooltipr"> $fitted,  <span class="tooltiprtext">ALWAYS type “fitted” here. This gives you the fitted probabilities <span class="math inline">\(\pi_i\)</span> of your logistic regression.</span> </span><span class="tooltipr"> g=10) <span class="tooltiprtext">The “g=10” is the default option for the value of g. The g is the number of groups to run the goodness of fit test on. Just leave it at 10 unless you are told to do otherwise. Ask your teacher for more information if you are interested.</span> </span></p>
</div>
<p></a></p>
<div id="goodnessoffit2" style="display:none;">
<pre><code>## 
##  Hosmer and Lemeshow goodness of fit (GOF) test
## 
## data:  myglm$y, myglm$fitted
## X-squared = 5.7327, df = 8, p-value = 0.6771</code></pre>
</div>
<p><strong>Plot the Regression</strong></p>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'LogisticBaseplot')">
Base R
</button>
<button class="tablinks" onclick="openTab(event, 'Logisticggplot')">
ggplot2
</button>
</div>
<div id="LogisticBaseplot" class="tabcontent">
<p>
<a href="javascript:showhide('LogisticBaseplot2')">
<div class="hoverchunk">
<p><span class="tooltipr"> plot( <span class="tooltiprtext">The plot function allows us to draw a scatterplot where the y-axis is only 0’s or 1’s and the x-axis is quantitative.</span> </span><span class="tooltipr"> Y <span class="tooltiprtext">Y should be some logical statement like Fail &gt; 0 or sex == “B” or height &lt; 68. In other words, Y needs to be a collection of 0’s and 1’s.</span> </span><span class="tooltipr">  ~  <span class="tooltiprtext">The tilde is read “Y on X.”</span> </span><span class="tooltipr"> X, <span class="tooltiprtext">X is some quantitative variable.</span> </span><span class="tooltipr">  data= <span class="tooltiprtext">Tell the plot which data set to use. X and Y are columns of that data set.</span> </span><span class="tooltipr"> YourDataSet <span class="tooltiprtext">The name of your data set.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">Closing parenthesis for plot(…) function.</span> </span><br/><span class="tooltipr"> curve( <span class="tooltiprtext">A function in R that draws a “curve” on a plot. Using add=TRUE puts the curve onto the current plot.</span> </span><span class="tooltipr"> exp( <span class="tooltiprtext">This allows you to compute e to the power of something. So exp(1) = e, exp(2) = e^2 and so on.</span> </span><span class="tooltipr"> <span class="math inline">\(b_0\)</span> + <span class="tooltiprtext">This is the “Intercept” estimate from your logistic regression summary output.</span> </span><span class="tooltipr">  <span class="math inline">\(b_1\)</span> <span class="tooltiprtext">This is the slope estimate from your logistic regression summary output.</span> </span><span class="tooltipr"> *x <span class="tooltiprtext">The curve function demands you ALWAYS use a lower-case “x” in this function.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">Closing parenthesis.</span> </span><span class="tooltipr"> / <span class="tooltiprtext">The division symbol.</span> </span><span class="tooltipr"> (1 + <span class="tooltiprtext">Required for the formula.</span> </span><span class="tooltipr">  exp(<span class="math inline">\(b_0\)</span> + <span class="math inline">\(b_1\)</span>*x) <span class="tooltiprtext">This needs to match exactly the first version of this statement.</span> </span><span class="tooltipr"> ), <span class="tooltiprtext">Closing parenthesis for the denominator.</span> </span><span class="tooltipr">  add = TRUE) <span class="tooltiprtext">This makes the curve be added to the current plot. If it is left out, the curve will be drawn in a new plot.</span> </span></p>
</div>
<p></a></p>
<div id="LogisticBaseplot2" style="display:none;">
<p><img src="LogisticRegression_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
</p>
</div>
<div id="Logisticggplot" class="tabcontent">
<p>
<a href="javascript:showhide('Logisticggplot2')">
<div class="hoverchunk">
<p><span class="tooltipr"> ggplot( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> data, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  aes( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> X, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> Y <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">Closing parenthesis for aes(…) function.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">Closing parenthesis for ggplot(…) function.</span> </span><span class="tooltipr">  + <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr">   geom_point( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  + <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr">   geom_smooth( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> method= <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “glm”, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> method.args = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> list( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> family = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “binomial”), <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  se = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> FALSE <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  + <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr">   theme_bw() <span class="tooltiprtext">EXPLANATION.</span> </span></p>
</div>
<p></a></p>
<div id="Logisticggplot2" style="display:none;">
<p><img src="LogisticRegression_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
</p>
</div>
<p>To predict the probability that <span class="math inline">\(Y_i=1\)</span> for a given <span class="math inline">\(x\)</span>-value, use the code</p>
<a href="javascript:showhide('LogisticPredict')">
<div class="hoverchunk">
<p><span class="tooltipr"> predict( <span class="tooltiprtext">The predict() function allows us to use the regression model that was obtained from glm() to predict the probability that <span class="math inline">\(Y_i = 1\)</span> for a given <span class="math inline">\(X_i\)</span>.</span> </span><span class="tooltipr"> YourGlmName,  <span class="tooltiprtext"><code>YourGlmName</code> is the name of the object you created when you performed your logistic regression using glm().</span> </span><span class="tooltipr"> newdata =  <span class="tooltiprtext">The <code>newdata =</code> command allows you to specify the x-values for which you want to obtain predicted probabilities that <span class="math inline">\(Y_i=1\)</span>.</span> </span><span class="tooltipr"> data.frame(xVariableName = someNumericValue),  <span class="tooltiprtext">The xVariableName is the same one you used in your glm(y ~ x, …) statement for “x”. Input any desired value for the “someNumericValue” spot. Then, the predict code uses the logistic regression model equation to calculate a predicted probability that <span class="math inline">\(Y_i = 1\)</span> for the given <span class="math inline">\(x_i\)</span> value that you specify.</span> </span><span class="tooltipr"> type = “response”) <span class="tooltiprtext">The type = “response” options specifies that you want predicted probabilities. There are other options available. See ?predict.glm for details.</span> </span></p>
</div>
<p></a></p>
<div id="LogisticPredict" style="display:none;">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myglm &lt;-<span class="st"> </span><span class="kw">glm</span>(am <span class="op">~</span><span class="st"> </span>disp, <span class="dt">data =</span> mtcars, <span class="dt">family =</span> binomial)
<span class="kw">predict</span>(myglm, <span class="dt">newdata =</span> <span class="kw">data.frame</span>(<span class="dt">disp =</span> <span class="dv">200</span>), <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)</code></pre></div>
<pre><code>##         1 
## 0.4280016</code></pre>
</div>
<hr />
</div>
</div>
<div id="explanation" class="section level3">
<h3>Explanation</h3>
<div style="padding-left:125px;">
<p>Simple Logistic Regression is used when</p>
<ul>
<li>the response variable is binary <span class="math inline">\((Y_i=0\)</span> or <span class="math inline">\(1)\)</span>, and</li>
<li>there is a single explanatory variable <span class="math inline">\(X\)</span> that is typically quantitative but could be qualitative (if <span class="math inline">\(X\)</span> is binary or ordinal).</li>
</ul>
<h4 id="the-model">The Model</h4>
<p>Since <span class="math inline">\(Y_i\)</span> is binary (can only be 0 or 1) the model focuses on describing the probability that <span class="math inline">\(Y_i=1\)</span> for a given scenario. The probability that <span class="math inline">\(Y_i = 1\)</span> given the observed value of <span class="math inline">\(x_i\)</span> is called <span class="math inline">\(\pi_i\)</span> and is modeled by the equation</p>
<p><span class="math display">\[
  P(Y_i = 1|\, x_i) = \frac{e^{\beta_0 + \beta_1 x_i}}{1+e^{\beta_0 + \beta_1 x_i}} = \pi_i
\]</span></p>
<p>The assumption is that for certain values of <span class="math inline">\(X\)</span> the probability that <span class="math inline">\(Y_i=1\)</span> is higher than for other values of <span class="math inline">\(X\)</span>.</p>
<h4 id="interpretation">Interpretation</h4>
<p>This model for <span class="math inline">\(\pi_i\)</span> comes from modeling the <em>log of the odds</em> that <span class="math inline">\(Y_i=1\)</span> using a linear regression, i.e., <span class="math display">\[
  \log\underbrace{\left(\frac{\pi_i}{1-\pi_i}\right)}_{\text{Odds for}\ Y_i=1} = \underbrace{\beta_0 + \beta_1 x_i}_{\text{linear regression}}
\]</span> Beginning to solve this equation for <span class="math inline">\(\pi_i\)</span> leads to the intermediate, but important result that <span class="math display">\[
    \underbrace{\frac{\pi_i}{1-\pi_i}}_{\text{Odds for}\ Y_i=1} = e^{\overbrace{\beta_0 + \beta_1 x_i}^{\text{linear regression}}} = e^{\beta_0}e^{\beta_1 x_i}
\]</span> Thus, while the coefficients <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> are difficult to interpret directly, <span class="math inline">\(e^{\beta_0}\)</span> and <span class="math inline">\(e^{\beta_1}\)</span> have a valuable interpretation. The value of <span class="math inline">\(e^{\beta_0}\)</span> is interpreted as the odds for <span class="math inline">\(Y_i=1\)</span> when <span class="math inline">\(x_i = 0\)</span>. It may not be possible for a given model to have <span class="math inline">\(x_i=0\)</span>, in which case <span class="math inline">\(e^{\beta_0}\)</span> has no interpretation. The value of <span class="math inline">\(e^{\beta_1}\)</span> denotes the proportional change in the odds that <span class="math inline">\(Y_i=1\)</span> for every one unit increase in <span class="math inline">\(x_i\)</span>.</p>
<p>Notice that solving the last equation for <span class="math inline">\(\pi_i\)</span> results in the logistic regression model presented at the beginning of this page.</p>
<h4 id="hypothesis-testing">Hypothesis Testing</h4>
<p>Similar to linear regression, the hypothesis that <span class="math display">\[
  H_0: \beta_1 = 0 \\
  H_a: \beta_1 \neq 0
\]</span> can be tested with a logistic regression. If <span class="math inline">\(\beta_1 = 0\)</span>, then there is no relationship between <span class="math inline">\(x_i\)</span> and the log of the odds that <span class="math inline">\(Y_i = 1\)</span>. In other words, <span class="math inline">\(x_i\)</span> is not useful in predicting the probability that <span class="math inline">\(Y_i = 1\)</span>. If <span class="math inline">\(\beta_1 \neq 0\)</span>, then there is information in <span class="math inline">\(x_i\)</span> that can be utilized to predict the probability that <span class="math inline">\(Y_i = 1\)</span>, i.e., the logistic regression is meaningful.</p>
<h4 id="diagnostics">Checking Model Assumptions</h4>
<p>The model assumptions are not as clear in logistic regression as they are in linear regression. For our purposes we will focus only on considering the goodness of fit of the logistic regression model. If the model appears to fit the data well, then it will be assumed to be appropriate.</p>
<div style="padding-left:15px;">
<h5 id="deviance-goodness-of-fit-test">Deviance Goodness of Fit Test</h5>
<p>If there are replicated values of each <span class="math inline">\(x_i\)</span>, then the deviance goodness of fit test tests the hypotheses <span class="math display">\[
  H_0: \pi_i = \frac{e^{\beta_0 + \beta_1 x_i}}{1+e^{\beta_0 + \beta_1 x_i}}
\]</span> <span class="math display">\[
  H_a: \pi_i \neq \frac{e^{\beta_0 + \beta_1 x_i}}{1+e^{\beta_0 + \beta_1 x_i}}
\]</span></p>
<h5 id="hosmer-lemeshow-goodness-of-fit-test">Hosmer-Lemeshow Goodness of Fit Test</h5>
<p>If there are very few or no replicated values of each <span class="math inline">\(x_i\)</span>, then the Hosmer-Lemeshow goodness of fit test can be used to test these same hypotheses. In each case, the null assumes that logistic regression is a good fit for the data while the alternative is that logistic regression is not a good fit.</p>
</div>
<h4 id="prediction">Prediction</h4>
<p>One of the great uses of Logistic Regression is that it provides an estimate of the probability that <span class="math inline">\(Y_i=1\)</span> for a given value of <span class="math inline">\(x_i\)</span>. This probability is often referred to as the <em>risk</em> that <span class="math inline">\(Y_i=1\)</span> for a certain individual. For example, if <span class="math inline">\(Y_i=1\)</span> implies a person has a disease, then <span class="math inline">\(\pi_i=P(Y_i=1)\)</span> represents the risk of individual <span class="math inline">\(i\)</span> having the disease based on their value of <span class="math inline">\(x_i\)</span>, perhaps a measure of their cholesterol or some other predictor of the disease.</p>
</div>
<hr />
</div>
<div id="section" class="section level3">
<h3></h3>
<hr />
</div>
</div>
<div id="multiple-logistic-regression-model" class="section level2 tabset tabset-pills tabset-fade">
<h2>Multiple Logistic Regression Model</h2>
<div style="float:left;width:125px;" align="center">
<p><img src="Images/BinomYMultX.png" width=98px;></p>
</div>
<p>Logistic regression for multiple explanatory variables that can either be quantitative or qualitative or a mixture of the two.</p>
<div id="overview-1" class="section level3">
<h3>Overview</h3>
<div style="padding-left:125px;">
<p>The probability that <span class="math inline">\(Y_i = 1\)</span> given the observed data <span class="math inline">\((x_{i1},\ldots,x_{ip})\)</span> is called <span class="math inline">\(\pi_i\)</span> and is modeled by the equation</p>
<p><span class="math display">\[
  P(Y_i = 1|\, x_{i1},\ldots,x_{ip}) = \frac{e^{\beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip}}}{1+e^{\beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip} }} = \pi_i
\]</span></p>
<p>The coefficents <span class="math inline">\(\beta_0,\beta_1,\ldots,\beta_p\)</span> are difficult to interpret directly. Typically <span class="math inline">\(e^{\beta_k}\)</span> for <span class="math inline">\(k=0,1,\ldots,p\)</span> is interpreted instead. The value of <span class="math inline">\(e^{\beta_k}\)</span> denotes the relative change in the odds that <span class="math inline">\(Y_i=1\)</span>. The odds that <span class="math inline">\(Y_i=1\)</span> are <span class="math inline">\(\frac{\pi_i}{1-\pi_i}\)</span>.</p>
<hr />
<p><strong>Examples:</strong> <a href="./Analyses/Logistic%20Regression/Examples/GSSMultipleLogisticReg.html">GSS</a></p>
<hr />
</div>
</div>
<div id="r-instructions-1" class="section level3">
<h3>R Instructions</h3>
<div style="padding-left:125px;">
<p><strong>Console</strong> Help Command: <code>?glm()</code></p>
<p>To perform a logistic regression in R use the commands</p>
<a href="javascript:showhide('logistic2')">
<div class="hoverchunk">
<p><span class="tooltipr"> YourGlmName <span class="tooltiprtext">This is some name you come up with that will become the R object that stores the results of your logistic regression <code>glm()</code> command.</span> </span><span class="tooltipr">  &lt;-  <span class="tooltiprtext">This is the “left arrow” assignment operator that stores the results of your <code>glm()</code> code into <code>YourGlmName</code>.</span> </span><span class="tooltipr"> glm( <span class="tooltiprtext">glm( is an R function that stands for “General Linear Model”. It works in a similar way that the <code>lm(</code> function works except that it requires a <code>family=</code> option to be specified at the end of the command.</span> </span><span class="tooltipr"> Y  <span class="tooltiprtext">Y is your binary response variable. It must consist of only 0’s and 1’s. Since TRUE’s = 1’s and FALSE’s = 0’s in R, Y could be a logical statement like (Price &gt; 100) or (Animal == “Cat”) if your Y-variable wasn’t currently coded as 0’s and 1’s.</span> </span><span class="tooltipr"> ~  <span class="tooltiprtext">The tilde symbol ~ is used to tell R that Y should be treated as a function of the explanatory variable X.</span> </span><span class="tooltipr"> X1 <span class="tooltiprtext">X1 is the first explanatory variable (typically quantitative) that will be used to explain the probability that the response variable Y is a 1.</span> </span><span class="tooltipr"> * <span class="tooltiprtext">EXPLANATION</span> </span><span class="tooltipr"> X2  <span class="tooltiprtext">X2 is second the explanatory variable either quantitative or qualitative that will be used to explain the probability that the response variable Y is a 1.</span> </span><span class="tooltipr"> …, <span class="tooltiprtext">In theory, you could have many other explanatory variables, interaction terms, or even squared, cubed, or other transformations of terms added to this model.</span> </span><span class="tooltipr">  data = NameOfYourDataset,<br />
<span class="tooltiprtext">NameOfYourDataset is the name of the dataset that contains Y and X. In other words, one column of your dataset would be called Y and another column would be called X.</span> </span><span class="tooltipr">  family=binomial) <span class="tooltiprtext">The family=binomial command tells the <code>glm(</code> function to perform a logistic regression. It turns out that <code>glm</code> can perform many different types of regressions, but we only study it as a tool to perform a logistic regression in this course.</span> </span><br/><span class="tooltipr"> summary(YourGlmName) <span class="tooltiprtext">The <code>summary</code> command allows you to print the results of your logistic regression that were previously saved in <code>YourGlmName</code>.</span> </span></p>
</div>
<p></a></p>
<div id="logistic2" style="display:none;">
<p>Example output from a regression. Hover each piece to learn more.</p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Call:<br/> glm(formula = weight &gt; 100 ~ Time*Diet, family = binomial, data = ChickWeight) <span class="tooltiprouttext">This is simply a statement of your original glm(…) “call” that you made when performing your regression. It allows you to verify that you ran what you thought you ran in the glm(…).</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td colspan="2">
<span class="tooltiprout"> Deviance Residuals: <span class="tooltiprouttext">EXPLANATION. </span>
</td>
</tr>
<tr>
<td align="right">
<span class="tooltiprout"> Min<br/>   -2.9446 <span class="tooltiprouttext">“min” gives the value of the residual that is furthest below the regression line. Ideally, the magnitude of this value would be about equal to the magnitude of the largest positive residual (the max) because the hope is that the residuals are normally distributed around the line.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 1Q<br/>   -0.2364 <span class="tooltiprouttext">“1Q” gives the first quartile of the residuals, which will always be negative, and ideally would be about equal in magnitude to the third quartile.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> Median<br/>   0.0000 <span class="tooltiprouttext">“Median” gives the median of the residuals, which would ideally would be about equal to zero. Note that because the regression line is the least squares line, the mean of the residuals will ALWAYS be zero, so it is never included in the output summary.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 3Q<br/>   0.2776 <span class="tooltiprouttext">“3Q” gives the third quartile of the residuals, which would ideally would be about equal in magnitude to the first quartile. In this case, it is pretty close, which helps us see that the first quartile of residuals on either side of the line is behaving fairly normally.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> Max</br>   1.9968 <span class="tooltiprouttext">“Max” gives the maximum positive residuals, which would ideally would be about equal in magnitude to the minimum residual. In this case, it is much larger than the minimum, which helps us see that the residuals are likely right skewed.</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td colspan="2">
<span class="tooltiprout"> Coefficients: <span class="tooltiprouttext">Notice that in your glm(…) you used only <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span>. You did type out any coefficients, i.e., the <span class="math inline">\(\beta_0\)</span> or <span class="math inline">\(\beta_1\)</span> of the regression model. These coefficients are estimated by the glm(…) function and displayed in this part of the output along with standard errors, t-values, and p-values.</span> </span>
</td>
</tr>
<tr>
<td align="left">
</td>
<td align="right">
<span class="tooltiprout">   Estimate <span class="tooltiprouttext">To learn more about the “Estimates” of the “Coefficients” see the “Explanation” tab, “Estimating the Model Parameters” section for details.</span>
</td>
<td align="right">
<span class="tooltiprout">   Std. Error <span class="tooltiprouttext">To learn more about the “Standard Errors” of the “Coefficients” see the “Explanation” tab, “Inference for the Model Parameters” section.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   z value <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   Pr(&gt;|z|) <span class="tooltiprouttext">EXPLANATION </span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> (Intercept) <span class="tooltiprouttext">This always says “Intercept” for any glm(…) you run in R. That is because R always assumes there is a y-intercept for your regression function.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   -4.97603 <span class="tooltiprouttext">This is the estimate of the y-intercept, <span class="math inline">\(\beta_0\)</span>. It is called <span class="math inline">\(b_0\)</span>. It is the average y-value when X is zero.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.65316 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_0\)</span>. It tells you how much <span class="math inline">\(b_0\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> -7.618 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 2.57e-14 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_0 = 0\)</span>. It measures the probability of observing a t-value as extreme as the one observed. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code>.</span> </span>
</td>
<td align="left">
<span class="tooltiprout"> *** <span class="tooltiprouttext">This is called a “star”. Three stars means significant at the 0.01 level of <span class="math inline">\(\alpha\)</span>.</span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Time <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.39111 <span class="tooltiprouttext">This is the estimate of the slope, <span class="math inline">\(\beta_1\)</span>. It is called <span class="math inline">\(b_1\)</span>. It is the change in the average y-value as X is increased by 1 unit.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.04979 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_1\)</span>. It tells you how much <span class="math inline">\(b_1\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 7.854 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 4.02e-15 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_1 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
<td align="left">
<span class="tooltiprout"> *** <span class="tooltiprouttext">This is called a “star”. Three stars means significant at the 0.01 level of <span class="math inline">\(\alpha\)</span>.</span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Diet2 <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.58283 <span class="tooltiprouttext">This is the estimate of the change in the intercept, <span class="math inline">\(\beta_2\)</span>. It is called <span class="math inline">\(b_2\)</span>.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   1.04061 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_2\)</span>. It tells you how much <span class="math inline">\(b_2\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.560 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.5754 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_2 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Diet3 <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   -8.44476 <span class="tooltiprouttext">This is the estimate of the change in the intercept, <span class="math inline">\(\beta_3\)</span>. It is called <span class="math inline">\(b_3\)</span>.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   4.32324 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_3\)</span>. It tells you how much <span class="math inline">\(b_3\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> -1.953 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.0508 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_3 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
<td align="left">
<span class="tooltiprout"> . <span class="tooltiprouttext">This is called a period. It means significant at the 0.1 level of <span class="math inline">\(\alpha\)</span>.</span> </span>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Diet4 <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   -67.41995 <span class="tooltiprouttext">This is the estimate of the change in the intercept, <span class="math inline">\(\beta_4\)</span>. It is called <span class="math inline">\(b_4\)</span>.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   3768.10023 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_4\)</span>. It tells you how much <span class="math inline">\(b_4\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> -0.018 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.9857 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_2 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Time:Diet2 <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.02391 <span class="tooltiprouttext">This is the estimate of the change in the slope, <span class="math inline">\(\beta_5\)</span>. It is called <span class="math inline">\(b_5\)</span>.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.08679 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_5\)</span>. It tells you how much <span class="math inline">\(b_5\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.275 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.7830 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_2 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Time:Diet3 <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   1.20955 <span class="tooltiprouttext">This is the estimate of the change in the slope, <span class="math inline">\(\beta_6\)</span>. It is called <span class="math inline">\(b_6\)</span>.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   0.51249 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_6\)</span>. It tells you how much <span class="math inline">\(b_6\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 2.360 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.0183 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_2 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
<td align="left">
<span class="tooltiprout"> * <span class="tooltiprouttext">This is called a “star”. One star means significant at the 0.05 level of <span class="math inline">\(\alpha\)</span>.</span> </span>
</td>
</td>
</tr>
<tr>
<td align="left">
<span class="tooltiprout"> Time:Diet4 <span class="tooltiprouttext">This is always the name of your X-variable in your glm(Y ~ X, …).</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   8.83168 <span class="tooltiprouttext">This is the estimate of the change in the slope, <span class="math inline">\(\beta_7\)</span>. It is called <span class="math inline">\(b_7\)</span>.</span> </span>
</td>
<td align="right">
<span class="tooltiprout">   471.01259 <span class="tooltiprouttext">This is the standard error of <span class="math inline">\(b_7\)</span>. It tells you how much <span class="math inline">\(b_7\)</span> varies from sample to sample. The closer to zero, the better.</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.019 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout"> 0.9850 <span class="tooltiprouttext">This is the p-value of the test of the hypothesis that <span class="math inline">\(\beta_2 = 0\)</span>. To compute it yourself in R, use <code>pt(-abs(your t-value), df of your regression)*2</code></span> </span>
</td>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span> --- </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘’ 1 <span class="tooltiprouttext">These “codes” explain what significance level the p-value is smaller than based on how many “stars” * the p-value is labeled with in the Coefficients table above.</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> (Dispersion parameter for binomial family taken to be 1) <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout">   Null Deviance: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  800.44 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  on 577 degrees of freedom <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Residual deviance: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  256.30 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  on 570 degrees of freedom <span class="tooltiprouttext">This is <span class="math inline">\(n-p\)</span> where <span class="math inline">\(n\)</span> is the sample size and <span class="math inline">\(p\)</span> is the number of parameters in the regression model. In this case, there is a sample size of 578 and five parameters, <span class="math inline">\(\beta_0\)</span>, <span class="math inline">\(\beta_1\)</span>, <span class="math inline">\(\beta_2\)</span>, <span class="math inline">\(\beta_3\)</span>, <span class="math inline">\(\beta_4\)</span>, <span class="math inline">\(\beta_5\)</span>,<span class="math inline">\(\beta_6\)</span>, and <span class="math inline">\(\beta_7\)</span> so 578-8 = 570.</span> </span>
</td>
</tr>
</table>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> AIC: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  272.3 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
<p><br/></p>
<table class="rconsole">
<tr>
<td>
<span class="tooltiprout"> Number of Fisher Scoring iterations: <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
<td align="right">
<span class="tooltiprout">  20 <span class="tooltiprouttext">EXPLANATION</span> </span>
</td>
</tr>
</table>
</div>
<p>To check the <strong>goodness of fit</strong> of a logistic regression model when there are <strong>many replicated <span class="math inline">\(x\)</span>-values</strong> use the command</p>
<a href="javascript:showhide('multipleGOF')">
<div class="hoverchunk">
<p><span class="tooltipr"> pchisq( <span class="tooltiprtext">The <code>pchisq</code> command allows you to compute p-values from the chi-squared distribution.</span> </span><span class="tooltipr"> residual deviance,  <span class="tooltiprtext">The residual deviance is shown at the bottom of the output of your <code>summary(YourGlmName)</code> and should be typed in here as a number like 25.3.</span> </span><span class="tooltipr"> df for residual deviance,  <span class="tooltiprtext">The df for the residual deviance is also shown at the bottom of the output of your <code>summary(YourGlmName)</code>.</span> </span><span class="tooltipr"> lower.tail=FALSE) <span class="tooltiprtext">This command ensures you find the probability of the chi-squared distribution being as extreme or more extreme than the observed value of residual deviance.</span> </span></p>
</div>
<p></a></p>
<div id="multipleGOF" style="display:none;">
<pre><code>## [1] 1</code></pre>
</div>
<p>To check the <strong>goodness of fit</strong> of a logistic regression model where there are <strong>few or no any replicated <span class="math inline">\(x\)</span>-values</strong></p>
<a href="javascript:showhide('multipleGOF2')">
<div class="hoverchunk">
<p><span class="tooltipr"> library(ResourceSelection) <span class="tooltiprtext">This loads the ResourceSelection R package so that you can access the hoslem.test() function. You may need to run the code: install.packages(“ResourceSelection”) first.</span> </span><br/><span class="tooltipr"> hoslem.test( <span class="tooltiprtext">This R function performs the Hosmer-Lemeshow Goodness of Fit Test. See the “Explanation” file to learn about this test.</span> </span><span class="tooltipr"> YourGlmName$y,  <span class="tooltiprtext"><code>YourGlmName$y</code> is the binary response variable of your logistic regression.</span> </span><span class="tooltipr"> YourGlmName$fitted) <span class="tooltiprtext"><code>YourGlmName$fitted</code> is the fitted probabilities <span class="math inline">\(\pi_i\)</span> of your logistic regression.</span> </span></p>
</div>
<p></a></p>
<div id="multipleGOF2" style="display:none;">
<pre><code>## 
##  Hosmer and Lemeshow goodness of fit (GOF) test
## 
## data:  myglm$y, myglm$fitted
## X-squared = 18.212, df = 8, p-value = 0.0197</code></pre>
</div>
<p>To predict the probability that <span class="math inline">\(Y_i=1\)</span> for a given <span class="math inline">\(x\)</span>-value, use the code</p>
<a href="javascript:showhide('MultipleLogisticPredict')">
<div class="hoverchunk">
<p><span class="tooltipr"> predict( <span class="tooltiprtext">The predict() function allows us to use the regression model that was obtained from glm() to predict the probability that <span class="math inline">\(Y_i = 1\)</span> for a given <span class="math inline">\(X_i\)</span>.</span> </span><span class="tooltipr"> YourGlmName,  <span class="tooltiprtext"><code>YourGlmName</code> is the name of the object you created when you performed your logistic regression using glm().</span> </span><span class="tooltipr"> newdata =  <span class="tooltiprtext">The <code>newdata =</code> command allows you to specify the x-values for which you want to obtain predicted probabilities that <span class="math inline">\(Y_i=1\)</span>.</span> </span><span class="tooltipr"> NewDataFrame,  <span class="tooltiprtext">Typically, NewDataFrame is created in real time using the data.frame( X1 = c(Value 1, Value 2, …), X2 = c(Value 1, Value 2, …), …) command. You should see the GSS example file for an example of how to use this function.</span> </span><span class="tooltipr"> type = “response”) <span class="tooltiprtext">The type = “response” options specifies that you want predicted probabilities. There are other options available. See ?predict.glm for details.</span> </span></p>
</div>
<p></a></p>
<div id="MultipleLogisticPredict" style="display:none;">
<pre><code>##         1 
## 0.7314498</code></pre>
</div>
<p><strong>Plot the Regression</strong></p>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'MultipleLogisticBaseplot')">
Base R
</button>
<button class="tablinks" onclick="openTab(event, 'MultipleLogisticggplot')">
ggplot2
</button>
</div>
<div id="MultipleLogisticBaseplot" class="tabcontent">
<p>
<a href="javascript:showhide('MultipleLogisticBaseplot2')">
<div class="hoverchunk">
<p><span class="tooltipr"> b <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  &lt;-  <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> mylm <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> $ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> coefficients <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr"> palette( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> c( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “SomeColor”, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “DifferentColor”)) <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr"> plot( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> Y <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  ~  <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> <span class="math inline">\(X_1\)</span>, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  data = YourDataSet, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  pch = 16) <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr"> curve( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> exp( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> (b[1]+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[2]) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> *x) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> / <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> (1+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> exp( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[1]+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[2] <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> *x)), <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  col = palette()[1], <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  add = TRUE) <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr"> curve( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> exp( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> (b[1]+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[3]) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> +(b[2]+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[4]) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> *x) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> / <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> (1+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> exp( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> (b[1]+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[3]) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> +(b[2]+ <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> b[4]) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> *x)), <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  col = palette()[2], <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  add = TRUE) <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr"> legend( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “position”, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  legend = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> c(“Level 1”, “Level 2”), <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  col = palette(), <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  lty = 1, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  bty = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ‘n’) <span class="tooltiprtext">EXPLANATION.</span> </span></p>
</div>
<p></a></p>
<div id="MultipleLogisticBaseplot2" style="display:none;">
<p><img src="LogisticRegression_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
</p>
</div>
<div id="MultipleLogisticggplot" class="tabcontent">
<p>
<a href="javascript:showhide('MultipleLogisticggplot2')">
<div class="hoverchunk">
<p><span class="tooltipr"> ggplot( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> data, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  aes( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> <span class="math inline">\(X_1\)</span>, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> Y <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">Closing parenthesis for aes(…) function.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">Closing parenthesis for ggplot(…) function.</span> </span><span class="tooltipr">  + <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr">   geom_point( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  + <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr">   geom_smooth( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> method= <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “glm”, <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> method.args = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> list( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> family = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> “binomial”), <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  aes( <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  color = <span class="math inline">\(X_2\)</span>) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  se = <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> FALSE <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr"> ) <span class="tooltiprtext">EXPLANATION.</span> </span><span class="tooltipr">  + <span class="tooltiprtext">EXPLANATION.</span> </span><br/><span class="tooltipr">   theme_bw() <span class="tooltiprtext">EXPLANATION.</span> </span></p>
</div>
<p></a></p>
<div id="MultipleLogisticggplot2" style="display:none;">
<p><img src="LogisticRegression_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
</p>
</div>
<hr />
</div>
</div>
<div id="explanation-1" class="section level3">
<h3>Explanation</h3>
<div style="padding-left:125px;">
<p>Multiple Logistic Regression is used when</p>
<ul>
<li>the response variable is binary <span class="math inline">\((Y_i=0\)</span> or <span class="math inline">\(1)\)</span>, and</li>
<li>there are multiple explanatory variables <span class="math inline">\(X_1,\ldots,X_p\)</span> that can be either quantitative or qualitative.</li>
</ul>
<h4 id="the-model-1">The Model</h4>
<p>Very little changes in multiple logistic regression from Simple Logistic Regression. The probability that <span class="math inline">\(Y_i = 1\)</span> given the observed data <span class="math inline">\((x_{i1},\ldots,x_{ip})\)</span> is called <span class="math inline">\(\pi_i\)</span> and is modeled by the expanded equation</p>
<p><span class="math display">\[
  P(Y_i = 1|\, x_{i1},\ldots,x_{ip}) = \frac{e^{\beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip}}}{1+e^{\beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip} }} = \pi_i
\]</span></p>
<p>The assumption is that for certain combinations of <span class="math inline">\(X_1,\ldots,X_p\)</span> the probability that <span class="math inline">\(Y_i=1\)</span> is higher than for other combinations.</p>
<h4 id="interpretation-1">Interpretation</h4>
<p>The model for <span class="math inline">\(\pi_i\)</span> comes from modeling the <em>log of the odds</em> that <span class="math inline">\(Y_i=1\)</span> using a linear regression, i.e., <span class="math display">\[
  \log\underbrace{\left(\frac{\pi_i}{1-\pi_i}\right)}_{\text{Odds for}\ Y_i=1} = \underbrace{\beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip}}_{\text{linear regression}}
\]</span> Beginning to solve this equation for <span class="math inline">\(\pi_i\)</span> leads to the intermediate, but important result that <span class="math display">\[
    \underbrace{\frac{\pi_i}{1-\pi_i}}_{\text{Odds for}\ Y_i=1} = e^{\overbrace{\beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip}}^{\text{liear regression}}} = e^{\beta_0}e^{\beta_1 x_{i1}}\cdots e^{\beta_p x_{ip}}
\]</span> As in Simple Linear Regression, the values of <span class="math inline">\(e^{\beta_0}\)</span>, <span class="math inline">\(e^{\beta_1}\)</span>, <span class="math inline">\(\ldots\)</span>, <span class="math inline">\(e^{\beta_p}\)</span> are interpreted as the proportional change in odds for <span class="math inline">\(Y_i=1\)</span> when a given <span class="math inline">\(x\)</span>-variable experiences a unit change, <em>all other variables being held constant</em>.</p>
<h4 id="checking-the-model-assumptions">Checking the Model Assumptions</h4>
<p>Diagnostics are the same in multiple logistic regression as they are in simple logistic regression.</p>
<h4 id="prediction-1">Prediction</h4>
<p>The idea behind prediction in multiple logistic regression is the same as in simple logistic regression. The only difference is that more than one explanatory variable is used to make the prediction of the <em>risk</em> that <span class="math inline">\(Y_i=1\)</span>.</p>
<hr />
</div>
</div>
<div id="section-1" class="section level3">
<h3></h3>
<hr />
<footer>
</footer>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
